---
interface Props {
  headline: string;
  description: string;
  datePublished: string;
  dateModified?: string;
  image?: string;
  author?: string;
  medicalSpecialty?: string;
}

const {
  headline,
  description,
  datePublished,
  dateModified = datePublished,
  image = 'https://healthycatlitter.com/og-default.jpg',
  author = 'HealthyCatLitter.com Editorial Team',
  medicalSpecialty
} = Astro.props;

const baseUrl = 'https://healthycatlitter.com';

const articleType = medicalSpecialty ? 'MedicalWebPage' : 'Article';

const schema = {
  '@context': 'https://schema.org',
  '@type': articleType,
  headline,
  description,
  image,
  datePublished,
  dateModified,
  author: {
    '@type': 'Organization',
    name: author,
    url: baseUrl
  },
  publisher: {
    '@type': 'Organization',
    name: 'HealthyCatLitter.com',
    logo: {
      '@type': 'ImageObject',
      url: `${baseUrl}/favicon.svg`
    }
  },
  mainEntityOfPage: {
    '@type': 'WebPage',
    '@id': Astro.url.href
  },
  ...(medicalSpecialty && {
    specialty: medicalSpecialty,
    about: {
      '@type': 'MedicalCondition',
      name: headline
    }
  })
};
---

<script is:inline type="application/ld+json" set:html={JSON.stringify(schema)} />
